(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["battles-arena"],{"43d7":function(t,e,n){},"504c":function(t,e,n){var a=n("9e1e"),r=n("0d58"),s=n("6821"),c=n("52a7").f;t.exports=function(t){return function(e){var n,i=s(e),l=r(i),u=l.length,o=0,m=[];while(u>o)n=l[o++],a&&!c.call(i,n)||m.push(t?[n,i[n]]:i[n]);return m}}},8615:function(t,e,n){var a=n("5ca1"),r=n("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},"92e9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mt-4":"","pl-6":"","mb-4":""}},[n("v-toolbar-title",[t._v("Арена")])],1),n("v-flex",{attrs:{xs12:"",sm12:"",md12:"","text-center":"","mb-2":"","mt-2":"","pr-2":""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Доступные бои")])]),n("v-card-text",[n("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"}),n("th",{staticClass:"text-center"},[t._v("Статус")]),n("th",{staticClass:"text-center"},[t._v("Тип боя")]),n("th",{staticClass:"text-center"},[t._v("Количество юнитов")]),n("th",{staticClass:"text-center"},[t._v("Уровни")]),n("th",{staticClass:"text-center"},[t._v("Команды")])])]),n("tbody",t._l(t.gameBattles,function(e){return n("tr",{key:e._id},[n("td",{staticClass:"text-left",staticStyle:{padding:"0"}},[n("v-icon",{on:{click:function(n){return t.cancelBattle(e)}}},[t._v("\n                      mdi-close\n                    ")]),n("v-icon",{on:{click:function(n){return t.acceptBattle(e)}}},[t._v("\n                      mdi-sword-cross\n                    ")]),n("v-icon",{on:{click:function(n){return t.openBattle(e)}}},[t._v("\n                      mdi-magnify\n                    ")])],1),n("td",[t._v(t._s(e.status))]),n("td",[t._v(t._s(e.type))]),n("td",[t._v(t._s(e.count))]),n("td",[t._v("\n                    "+t._s(e.min+" - "+e.max)+"\n                  ")]),n("td",[t._v("\n                    "+t._s((e.commands?e.commands.length:"")+" / "+t.commandsMax(e.type))+"\n                  ")])])}),0)]},proxy:!0}])}),n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mt-4":""}},[n("v-select",{attrs:{clearable:"",id:"units",name:"units",items:t.fighters,"item-text":"name","item-value":"_id",label:"Войны",multiple:"",chips:""},model:{value:t.units,callback:function(e){t.units=e},expression:"units"}})],1),n("v-flex",{attrs:{xs12:"",sm3:"",md3:"","mt-4":"","pr-6":""}},[n("v-select",{attrs:{id:"type",name:"type",items:t.types,label:"Тип боя"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),n("v-flex",{attrs:{xs12:"",sm3:"",md3:"","mt-4":"","pr-6":""}},[n("v-text-field",{attrs:{id:"count",name:"count",label:"Count",type:"number"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1),n("v-flex",{attrs:{xs12:"",sm3:"",md3:"","mt-4":"","pr-6":""}},[n("v-text-field",{attrs:{id:"min",name:"min",label:"Min",type:"number"},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}})],1),n("v-flex",{attrs:{xs12:"",sm3:"",md3:"","mt-4":""}},[n("v-text-field",{attrs:{id:"max",name:"max",label:"Max",type:"number"},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1),n("v-flex",{attrs:{xs12:"",sm3:"",md3:"","mt-4":""}},[n("v-text-field",{attrs:{id:"side",name:"side",label:"Side",type:"number"},model:{value:t.side,callback:function(e){t.side=e},expression:"side"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:t.createBattle}},[t._v("Создать")])],1)],1)],1)],1),n("ErrorMessage"),n("SuccessMessage")],1)},r=[],s=(n("8e6e"),n("456d"),n("96cf"),n("3b8d")),c=n("bd86"),i=(n("ac6a"),n("8615"),n("2f62")),l=(n("fa7d"),n("6bfe"));function u(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"%s"}},data:function(){return{units:[],type:"",types:Object.values(l["b"]),count:0,min:0,max:0,side:0}},computed:o({},Object(i["c"])(["gamePlace","gameUnits","gameBattles","user"]),{fighters:function(){return this.gameUnits.filter(function(t){return"Fighter"==t.type})}}),watch:{},methods:o({},Object(i["b"])(["unitList","arenaList","arenaCreate","arenaCancel","arenaAccept","setBattle"]),{commandsMax:function(t){return"Duel"==t?2:"2vs2"==t?4:"3vs3"==t?6:"Chaos"==t?6:0},createBattle:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("createBattle"),t.next=3,this.arenaCreate({units:this.units,type:this.type,count:this.count,min:this.min,max:this.max});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cancelBattle:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("cancelBattle",e),t.next=3,this.arenaCancel({battle:e._id});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),acceptBattle:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("acceptBattle",e),t.next=3,this.arenaAccept({battle:e._id,units:this.units,side:this.side});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),openBattle:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("openBattle",e),this.setBattle(e),this.$router.push({name:"battles-battle"});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}),mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.gamePlace._id){t.next=2;break}return t.abrupt("return",this.$router.push({name:"game-map"}));case 2:return t.next=4,this.arenaList({place:this.gamePlace._id});case 4:return t.next=6,this.unitList({gtype:l["k"].Account});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},p=m,d=(n("a0cc"),n("2877")),f=n("6544"),v=n.n(f),h=n("8336"),b=n("b0af"),x=n("99d9"),y=n("0e8f"),g=n("132d"),w=n("a722"),_=n("b974"),O=n("1f4f"),k=n("2fa4"),j=n("8654"),C=n("2a7f"),B=Object(d["a"])(p,a,r,!1,null,null,null);e["default"]=B.exports;v()(B,{VBtn:h["a"],VCard:b["a"],VCardActions:x["b"],VCardText:x["d"],VCardTitle:x["e"],VFlex:y["a"],VIcon:g["a"],VLayout:w["a"],VSelect:_["a"],VSimpleTable:O["a"],VSpacer:k["a"],VTextField:j["a"],VToolbarTitle:C["c"]})},a0cc:function(t,e,n){"use strict";var a=n("43d7"),r=n.n(a);r.a}}]);