(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["game-building"],{"0a49":function(e,t,r){var a=r("9b43"),n=r("626a"),i=r("4bf8"),l=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,c=2==e,s=3==e,u=4==e,m=6==e,p=5==e||m,f=t||o;return function(t,o,d){for(var h,v,g=i(t),y=n(g),x=a(o,d,3),b=l(y.length),k=0,_=r?f(t,b):c?f(t,0):void 0;b>k;k++)if((p||k in y)&&(h=y[k],v=x(h,k,g),e))if(r)_[k]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return k;case 2:_.push(h)}else if(u)return!1;return m?-1:s||u?u:_}}},1169:function(e,t,r){var a=r("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"20d6":function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(6),i="findIndex",l=!0;i in[]&&Array(1)[i](function(){l=!1}),a(a.P+a.F*l,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},"2a36":function(e,t,r){},"2f21":function(e,t,r){"use strict";var a=r("79e5");e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},"504c":function(e,t,r){var a=r("9e1e"),n=r("0d58"),i=r("6821"),l=r("52a7").f;e.exports=function(e){return function(t){var r,o=i(t),c=n(o),s=c.length,u=0,m=[];while(s>u)r=c[u++],a&&!l.call(o,r)||m.push(e?[r,o[r]]:o[r]);return m}}},"55dd":function(e,t,r){"use strict";var a=r("5ca1"),n=r("d8e8"),i=r("4bf8"),l=r("79e5"),o=[].sort,c=[1,2,3];a(a.P+a.F*(l(function(){c.sort(void 0)})||!l(function(){c.sort(null)})||!r("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(i(this)):o.call(i(this),n(e))}})},"6bfe":function(e,t,r){"use strict";r.d(t,"f",function(){return a}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"d",function(){return l}),r.d(t,"g",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"k",function(){return s}),r.d(t,"i",function(){return u}),r.d(t,"b",function(){return h}),r.d(t,"h",function(){return v}),r.d(t,"e",function(){return g});r("7f7f"),r("20d6"),r("55dd"),r("ac6a");var a={Element:"Element",Formula:"Formula",Weapon:"Weapon",Armor:"Armor",Clothing:"Clothing",Jewelry:"Jewelry",Tool:"Tool",Transport:"Transport",Building:"Building"},n={Piercing:"Piercing",Slashing:"Slashing",Crushing:"Crushing",Archery:"Archery",Magical:"Magical"},i={Protection:"Protection",Head:"Head",Shoulders:"Shoulders",Chest:"Chest",Bracers:"Bracers",Gloves:"Gloves",Boots:"Boots"},l={Shirt:"Shirt",Belt:"Belt",Pants:"Pants",Cloak:"Cloak"},o={Necklace:"Necklace",Ring:"Ring",Trinket:"Trinket",Upgrade:"Upgrade"},c={Castle:"Castle",Hotel:"Hotel",Laboratory:"Laboratory",Weapon:"Weapon",Armor:"Armor",Tailor:"Tailor",Jewelry:"Jewelry",Transport:"Transport",Tools:"Tools",Mine:"Mine"},s={Easy:"Easy",Average:"Average",Heavy:"Heavy"},u={Trainee:"Trainee",Learner:"Learner",Apprentice:"Apprentice",Master:"Master",Grandmaster:"Grandmaster"},m={Fire:"Fire",Air:"Air",Water:"Water",Earth:"Earth"},p={Attack:"Attack",Protection:"Protection",Parameter:"Parameter",Modifier:"Modifier"},f={Health:"Health",Power:"Power",Agility:"Agility",Intuition:"Intuition",Endurance:"Endurance",Intelligence:"Intelligence"},d={Critical:"Critical",UnCritical:"UnCritical",Dodge:"Dodge",UnDodge:"UnDodge",Accuracy:"Accuracy",Luck:"Luck"},h={Duel:"Duel",Two:"2vs2",Three:"3vs3",Chaos:"Chaos"},v=[{par:p.Attack,type:n.Piercing},{par:p.Protection,type:n.Piercing},{par:p.Attack,type:n.Slashing},{par:p.Protection,type:n.Slashing},{par:p.Attack,type:n.Crushing},{par:p.Protection,type:n.Crushing},{par:p.Attack,type:n.Archery},{par:p.Protection,type:n.Archery},{par:p.Attack,type:m.Fire},{par:p.Protection,type:m.Fire},{par:p.Attack,type:m.Air},{par:p.Protection,type:m.Air},{par:p.Attack,type:m.Water},{par:p.Protection,type:m.Water},{par:p.Attack,type:m.Earth},{par:p.Protection,type:m.Earth},{par:p.Parameter,type:f.Health},{par:p.Parameter,type:f.Power},{par:p.Parameter,type:f.Agility},{par:p.Parameter,type:f.Intuition},{par:p.Parameter,type:f.Endurance},{par:p.Parameter,type:f.Intelligence},{par:p.Modifier,type:d.Critical},{par:p.Modifier,type:d.UnCritical},{par:p.Modifier,type:d.Dodge},{par:p.Modifier,type:d.UnDodge},{par:p.Modifier,type:d.Accuracy},{par:p.Modifier,type:d.Luck}],g=function(e,t,r,c){console.log("filterParams",t,r,c);var s=[],m=[],p=0,f=0;t==a.Weapon?(p=1,r==n.Piercing?s.push(0):r==n.Slashing?s.push(2):r==n.Crushing?s.push(4):r==n.Archery?s.push(6):r==n.Magical&&s.push(8,10,12,14),c==u.Trainee||c==u.Learner||(c==u.Apprentice?(m.push(22,24),f=1):c==u.Master?(m.push(22,24),f=2):c==u.Grandmaster&&(m.push(22,24),f=2))):t==a.Armor?(p=4,r==i.Protection?s.push(1,3,5,7):r==i.Head?s.push(1,3,5,7):r==i.Shoulders?s.push(1,3,5,7):r==i.Chest?s.push(1,3,5,7):r==i.Bracers?s.push(1,3,5,7):r==i.Gloves?s.push(1,3,5,7):r==i.Boots&&s.push(1,3,5,7),c==u.Trainee||c==u.Learner||(c==u.Apprentice?(m.push(23,25),f=1):c==u.Master?(m.push(23,25),f=2):c==u.Grandmaster&&(m.push(23,25),f=2))):t==a.Clothing?(r==l.Shirt?s.push(9,11,13,15,26,27):r==l.Belt?s.push(9,11,13,15,26,27):r==l.Pants?s.push(9,11,13,15,26,27):r==l.Cloak&&s.push(9,11,13,15,26,27),c==u.Trainee?p=1:c==u.Learner?p=2:c==u.Apprentice?p=3:c==u.Master?p=4:c==u.Grandmaster&&(p=5)):t==a.Jewelry&&(r==o.Necklace?s.push(16,17,18,19,20,21,26,27):r==o.Ring?s.push(16,17,18,19,20,21,26,27):r==o.Trinket?s.push(16,17,18,19,20,21,26,27):r==o.Upgrade&&s.push(16,17,18,19,20,21,26,27),c==u.Trainee?p=1:c==u.Learner?p=2:c==u.Apprentice?p=3:c==u.Master?p=4:c==u.Grandmaster&&(p=5)),e.forEach(function(e,t){e.used=s.indexOf(t)>=0?"primary":m.indexOf(t)>=0?"secondary":""});var d=e.filter(function(e){return"primary"==e.used}).sort(function(e,t){return t.val-e.val}).slice(0,p).filter(function(e){return e.val>0}),h=e.filter(function(e){return"secondary"==e.used}).sort(function(e,t){return t.val-e.val}).slice(0,f).filter(function(e){return e.val>0});e.forEach(function(e,t){e.active=d.findIndex(function(t){return t.name==e.name})>=0||h.findIndex(function(t){return t.name==e.name})>=0})}},7514:function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(5),i="find",l=!0;i in[]&&Array(1)[i](function(){l=!1}),a(a.P+a.F*l,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},8615:function(e,t,r){var a=r("5ca1"),n=r("504c")(!1);a(a.S,"Object",{values:function(e){return n(e)}})},ba16:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mt-4":"","pl-6":"","mb-4":""}},[r("v-toolbar-title",[e._v("Здание "+e._s(e.gameBuilding.type)+" "+e._s(e.gameBuilding.level))])],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:"","text-center":"","mb-2":"","mt-2":"","pr-2":""}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Задач - "+e._s(e.gameTicketWorks.length+"/"+e.gameBuilding.ticketMax)+" Мест - "+e._s(e.gameTicketWorks.reduce(function(e,t){return e+t.workerMax},0)+"/"+e.gameBuilding.workerMax))])]),r("v-card-text",[r("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"}),r("th",{staticClass:"text-left"},[e._v("Тип навыка")]),r("th",{staticClass:"text-left"},[e._v("Доступно работы")]),r("th",{staticClass:"text-left"},[e._v("Занято мест")]),r("th",{staticClass:"text-left"},[e._v("Ставка")])])]),r("tbody",e._l(e.gameTicketWorks,function(t){return r("tr",{key:t._id},[r("td",{staticStyle:{padding:"0"}},[r("v-icon",{on:{click:function(r){return e.startTicketWork(t)}}},[e._v("\n                      mdi-worker\n                    ")])],1),r("td",[e._v(e._s(t.skillType))]),r("td",[e._v(e._s(t.points))]),r("td",[e._v("\n                    "+e._s(t.workers.length+" / "+t.workerMax)+"\n                    "),r("v-icon",{on:{click:function(r){return e.setMaxTicketWork(t)}}},[e._v("\n                      mdi-check-circle-outline\n                    ")])],1),r("td",[e._v("\n                    "+e._s(t.price)+"\n                    "),r("v-icon",{on:{click:function(r){return e.setPriceTicketWork(t)}}},[e._v("\n                      mdi-check-circle-outline\n                    ")])],1)])}),0)]},proxy:!0}])}),r("v-select",{attrs:{clearable:"",id:"unit",name:"unit",items:e.units,"item-text":"name","item-value":"_id",label:"Юнит"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}}),r("v-text-field",{attrs:{id:"count",name:"count",label:"Количество",type:"number"},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","text-right":"","mb-2":"","mt-2":"","pr-2":""}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Новое задание")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-autocomplete",{attrs:{items:e.gameTemplates,"item-value":"_id","item-text":e.templateName,label:"Шаблон",placeholder:"Select..."},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1),"Transport"==e.gameBuilding.type||"Tools"==e.gameBuilding.type?r("v-flex",{attrs:{xs12:""}},[r("v-autocomplete",{attrs:{items:e.allFormulas,"item-value":"_id","item-text":e.formulaName,label:"Формула",placeholder:"Select..."},model:{value:e.formula,callback:function(t){e.formula=t},expression:"formula"}})],1):e._e(),"Laboratory"==e.gameBuilding.type?r("div",[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-autocomplete",{attrs:{items:e.allElements,"item-value":"_id","item-text":"name",label:"Элемент 1",placeholder:"Select..."},model:{value:e.element1,callback:function(t){e.element1=t},expression:"element1"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{id:"count1",name:"count1",label:"Количество 1",type:"number"},model:{value:e.count1,callback:function(t){e.count1=t},expression:"count1"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-autocomplete",{attrs:{items:e.allElements,"item-value":"_id","item-text":"name",label:"Элемент 2",placeholder:"Select..."},model:{value:e.element2,callback:function(t){e.element2=t},expression:"element2"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{id:"count2",name:"count2",label:"Количество 2",type:"number"},model:{value:e.count2,callback:function(t){e.count2=t},expression:"count2"}})],1)],1)],1):e._e()],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.createTicketWork}},[e._v("Создать")])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md9:"","text-right":"","mb-2":"","mt-2":"","pr-2":""}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Новый макет")])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-row",[r("v-col",{attrs:{md:"4"}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{id:"name",name:"name",label:"Название предмета",type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-autocomplete",{attrs:{items:e.allTypes,label:"Тип",placeholder:"Select...",clearable:""},model:{value:e.iType,callback:function(t){e.iType=t},expression:"iType"}}),e.weightWisible?r("v-autocomplete",{attrs:{items:e.allWeights,label:"Вес",placeholder:"Select...",clearable:""},model:{value:e.iWeight,callback:function(t){e.iWeight=t},expression:"iWeight"}}):e._e(),r("v-autocomplete",{attrs:{items:e.allQualities,label:"Качество",placeholder:"Select...",clearable:""},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md8:""}},[r("v-autocomplete",{attrs:{items:e.allElements,"item-value":"_id","item-text":"name",label:"Элемент 1",placeholder:"Select..."},model:{value:e.element1,callback:function(t){e.element1=t},expression:"element1"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-text-field",{attrs:{id:"count1",name:"count1",label:"Количество 1",type:"number"},model:{value:e.count1,callback:function(t){e.count1=t},expression:"count1"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-autocomplete",{attrs:{items:e.formulaList(null,e.element1,e.count1),"item-value":"_id","item-text":e.formulaName,label:"Формула 1",placeholder:"Select...",clearable:""},model:{value:e.formula1,callback:function(t){e.formula1=t},expression:"formula1"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-autocomplete",{attrs:{items:e.formulaList(e.formula1),"item-value":"_id","item-text":e.formulaName,label:"Формула 2",placeholder:"Select...",clearable:""},model:{value:e.formula2,callback:function(t){e.formula2=t},expression:"formula2"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-autocomplete",{attrs:{items:e.formulaList(e.formula2),"item-value":"_id","item-text":e.formulaName,label:"Формула 3",placeholder:"Select...",clearable:""},model:{value:e.formula3,callback:function(t){e.formula3=t},expression:"formula3"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-autocomplete",{attrs:{items:e.formulaList(e.formula3),"item-value":"_id","item-text":e.formulaName,label:"Формула 4",placeholder:"Select...",clearable:""},model:{value:e.formula4,callback:function(t){e.formula4=t},expression:"formula4"}})],1)],1)],1),r("v-col",{attrs:{md:"8"}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("Параметр")]),r("th",{staticClass:"text-right"},[e._v("По формуле")]),r("th",{staticClass:"text-right"},[e._v("Модификатор")]),r("th",{staticClass:"text-right"},[e._v("Итоговое")])])]),r("tbody",e._l(e.parameterList,function(t,a){return r("tr",{key:a,style:e.styleColor(t)},[r("td",{staticClass:"text-left"},[e._v(e._s(t.name))]),r("td",{staticClass:"text-right"},[e._v(e._s(t.val))]),r("td",{staticClass:"text-right"},[e._v(e._s(t.bal))]),r("td",{staticClass:"text-right"},[e._v(e._s(t.res))])])}),0)]},proxy:!0}])})],1)],1)],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"btnCancel",attrs:{color:"red lighten3",text:""},on:{click:e.createTemplate}},[e._v("Создать")])],1)],1)],1)],1),r("Description",{attrs:{description:"Вы находитесь здании."}}),r("p",[e._v("Все функции тут доступны в основном только для арендатора. Методы и данные отличаются для разных типов зданий. Во всех зданиях кроме Гостиницы и прочих социальных зданий доступен механизм создания задач на работу.")]),r("v-row",[r("v-col",[r("div",{staticStyle:{"text-align":"center"}},[r("img",{attrs:{src:"/img/building_works.jpg"}})])]),r("v-col",[r("p",[e._v("Таблица задач отображает списко задач, созданных и еще не завершенных в этом здании. Также отображается допустимое количество одновмеренно созданных задач и одновременно работающих юнитов. Для налача работы юнита над задачей необхоидмо указать для нее количество одновременно работающих юнитов и ставку за единицу работы.")]),r("p",[e._v("кнопка Создать - При выполнеии создается новая задача. Для запуска новой задачи необходимо указать шаблон. Если это мастерская инструментов или транспорта, то дополнительно необходимо указать формулу. От формулы будет зависеть какие материалы будут списаны, а также определяется прочность создаваемого предмета.")])])],1),r("v-row",[r("v-col",[r("div",{staticStyle:{"text-align":"center"}},[r("img",{attrs:{src:"/img/new_template.jpg"}})])]),r("v-col",[r("p",[e._v("Форма создания нового шаблона предмета. Созданный шаблон можно использовать для запуска новых задач по созданию предметов.")]),r("p",[e._v("Подробная инструкция по созданию предметов будет описана позже.")])])],1),r("ErrorMessage"),r("SuccessMessage")],1)},n=[],i=(r("8e6e"),r("456d"),r("96cf"),r("3b8d")),l=(r("7f7f"),r("7514"),r("ac6a"),r("8615"),r("bd86")),o=r("2f62"),c=r("fa7d"),s=r("6bfe");function u(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){Object(l["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:"%s"}},data:function(){return{unit:"",count:"",iClass:"",iType:"",quality:"",iWeight:"",name:"",template:"",formula:"",formula1:"",formula2:"",formula3:"",formula4:"",element1:"",count1:"",element2:"",count2:""}},computed:m({},Object(o["c"])(["gameBuilding","gameCell","gamePlace","user","profileInfo","allFormulas","allElements","allBalances","gameTemplates","gameUnits","gameTicketWorks"]),{units:function(){return this.gameUnits.filter(function(e){return"Worker"==e.type})},weightWisible:function(){return this.gameBuilding.type==s["c"].Weapon||this.gameBuilding.type==s["c"].Armor},allQualities:function(){return Object.values(s["i"])},allWeights:function(){return Object.values(s["k"])},parameterList:function(){var e=this,t=[];if(this.formula1){var r=this.allFormulas.filter(function(t){return t._id==e.formula1})[0];if(t=r.parameters.map(function(e,t){return Math.floor(e*r.effect*1e3)/1e3}),this.formula2){var a=this.allFormulas.filter(function(t){return t._id==e.formula2})[0];if(t=a.parameters.map(function(e,r){return Math.floor(1e3*(t[r]+e*a.effect))/1e3}),this.formula3){var n=this.allFormulas.filter(function(t){return t._id==e.formula3})[0];if(t=n.parameters.map(function(e,r){return Math.floor(1e3*(t[r]+e*n.effect))/1e3}),this.formula4){var i=this.allFormulas.filter(function(t){return t._id==e.formula4})[0];t=i.parameters.map(function(e,r){return Math.floor(1e3*(t[r]+e*i.effect))/1e3})}}}}var l=this.allBalances.find(function(t){return t.iClass==e.iClass&&t.iType==e.iType&&t.iWeight==e.iWeight});return l=l?l.parameters:[],t=t.map(function(e,t){var r=l[t]||0;return{bal:r,par:s["h"][t].par,type:s["h"][t].type,used:"",name:"".concat(s["h"][t].par," - ").concat(s["h"][t].type),val:e,res:Math.floor(e*r*1e3)/1e3}}),Object(s["e"])(t,this.iClass,this.iType,this.quality),t},allTypes:function(){var e={};return this.gameBuilding.type==s["c"].Weapon?e=s["j"]:this.gameBuilding.type==s["c"].Armor?e=s["a"]:this.gameBuilding.type==s["c"].Clothing?e=s["d"]:this.gameBuilding.type==s["c"].Jewelry&&(e=s["g"]),Object.values(e)}}),watch:{},methods:m({},Object(o["b"])(["buildingJoin","getAllElements","getAllFormulas","getAllBalances","ticketWorkList","ticketWorkStart","ticketWorkSetPrice","ticketWorkSetMax","ticketWorkCreate","templateList","templateCreate"]),{getFormat:function(e){return window.__localeId__=this.$store.getters.locale,Object(c["g"])(e,"DD.MM.YY, hh:mm")},formulaName:function(e){return"".concat(Object(c["e"])(e.element1-1)).concat(e.count1).concat(Object(c["e"])(e.element2-1)).concat(e.count2)},templateName:function(e){return"".concat(e.name," - ").concat(e.material)},styleColor:function(e){var t="primary"==e.used?"color:green; ":"secondary"==e.used?"color:blue; ":"color:grey; ";return t+=e.active?"font-weight: bold;":"",t},formulaList:function(e,t,r){if(!e&&!t)return[];if(e){var a=this.allFormulas.filter(function(t){return t._id==e})[0];t=a.element2,r=a.count2}return this.allFormulas.filter(function(e){return e.element1==t&&(""==r||e.count1==r)})},startTicketWork:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("startTicketWork",t),e.next=3,this.ticketWorkStart({ticket:t._id,unit:this.unit,count:this.count});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setPriceTicketWork:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("setPriceTicketWork",t),e.next=3,this.ticketWorkSetPrice({ticket:t._id,price:this.count});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setMaxTicketWork:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("setMaxTicketWork",t),e.next=3,this.ticketWorkSetMax({ticket:t._id,count:this.count});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createTicketWork:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("createTicketWork",this.template),t={building:this.gameBuilding._id,template:this.template},"Transport"==this.gameBuilding.type||"Tools"==this.gameBuilding.type?t.formula=this.formula:"Laboratory"==this.gameBuilding.type&&(t.element1=this.element1,t.count1=this.count1,t.element2=this.element2,t.count2=this.count2),e.next=5,this.ticketWorkCreate(t);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),createTemplate:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("createTemplate",!0),t={building:this.gameBuilding._id,type:this.iType,quality:this.quality,name:this.name},"Weapon"!=this.gameBuilding.type&&"Armor"!=this.gameBuilding.type||(t.weight=this.iWeight),t.formula1=this.formula1,this.formula2&&(t.formula2=this.formula2),this.formula3&&(t.formula3=this.formula3),this.formula4&&(t.formula4=this.formula4),e.next=9,this.templateCreate(t);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.gameBuilding._id){e.next=2;break}return e.abrupt("return",this.$router.push({name:"game-map"}));case 2:return e.next=4,this.buildingJoin({building:this.gameBuilding._id});case 4:this.allElements.length||this.getAllElements(),this.getAllFormulas(),this.getAllBalances(),this.ticketWorkList({place:this.gamePlace._id,cell:this.gameCell._id}),"Castle"!==this.gameBuilding.type&&this.templateList({building:this.gameBuilding._id}),this.gameBuilding.type==s["c"].Weapon?this.iClass=s["f"].Weapon:this.gameBuilding.type==s["c"].Armor?this.iClass=s["f"].Armor:this.gameBuilding.type==s["c"].Clothing?this.iClass=s["f"].Clothing:this.gameBuilding.type==s["c"].Jewelry&&(this.iClass=s["f"].Jewelry);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},f=p,d=(r("de53"),r("2877")),h=r("6544"),v=r.n(h),g=r("c6a6"),y=r("8336"),x=r("b0af"),b=r("99d9"),k=r("62ad"),_=r("a523"),C=r("0e8f"),w=r("132d"),T=r("a722"),A=r("0fd9"),W=r("b974"),P=r("1f4f"),B=r("2fa4"),S=r("8654"),M=r("2a7f"),O=Object(d["a"])(f,a,n,!1,null,null,null);t["default"]=O.exports;v()(O,{VAutocomplete:g["a"],VBtn:y["a"],VCard:x["a"],VCardActions:b["b"],VCardText:b["d"],VCardTitle:b["e"],VCol:k["a"],VContainer:_["a"],VFlex:C["a"],VIcon:w["a"],VLayout:T["a"],VRow:A["a"],VSelect:W["a"],VSimpleTable:P["a"],VSpacer:B["a"],VTextField:S["a"],VToolbarTitle:M["c"]})},cd1c:function(e,t,r){var a=r("e853");e.exports=function(e,t){return new(a(e))(t)}},de53:function(e,t,r){"use strict";var a=r("2a36"),n=r.n(a);n.a},e853:function(e,t,r){var a=r("d3f4"),n=r("1169"),i=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}}}]);